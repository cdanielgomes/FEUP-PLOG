:- use_module(library(random)).
:- use_module(library(lists)).
:- include('display.pl').
	

%% Size = Size of the Board
%% Board - return of the board
createEmptyBoard(Size, Board):- 
    create_line(0, Size, A),
    length(Board, Size),
    maplist(=(A), Board).

%%% X - Symbol to be insert in every position of List
%%% N - Size of a line 
%%% List - Return of a line
create_line(X, N, List)  :- 
    length(List, N), 
    maplist(=(X), List).


insertOnPositon(Line, Column, Symbol, Board, List1):-
    nth1(Line, Board, Change),
    changeElem(Column, Symbol, Change, Changed),
    nth0(0,[H|T], Changed),
    copy(Board, TempList, Line), %% APARTIRDAQUI
    copy2(Board, HalfBoard, Line, 1), 
    append(TempList, [H|T], FH),
    append(FH, HalfBoard, List1).

changeElem(_ , _, [], _). %% TA CORRETO
changeElem(Index, X, [H|T], [N|L]):-
    Index = 1 -> N = X, Index1 is Index - 1, changeElem(Index1, X, T, L);
    Index1 is Index - 1, N = H, changeElem(Index1, X, T, L).

copy(_, _, 0).
copy([H|T], [A|B], X):-
    A = H,
    X1 is X - 1,
    copy(T, B, X1).

copy2([], _, _).
copy2([H|T], [A|B], X, Contador):-
    X > Contador -> Contador1 is Contador + 1, copy2(T, B, X, Contador1);
    length([H|T], N),copy([H|T], [A|B],N).

l:- changeElem(2, 1, [0,0,0,0,0,0], L), print_line(L, 2).
    
k:- display_board( [
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,2,0,1,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0],
	[0,0,0,1,2,2,2,2,1,1,0,2,0,0,0,0,0,0,0],
	[0,0,1,0,0,1,1,0,1,2,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,2,0,0,2,2,1,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,1,0,1,2,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,2,2,2,1,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]	
	], [0,0]),
    insertOnPositon(3,3, 2, [
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,2,0,1,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0],
	[0,0,0,1,2,2,2,2,1,1,0,2,0,0,0,0,0,0,0],
	[0,0,1,0,0,1,1,0,1,2,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,2,0,0,2,2,1,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,1,0,1,2,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,2,2,2,1,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]	
	], Nboard), display_board(Nboard, [0|0]).
